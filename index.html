<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rutgers Quantitative Finance Club</title>
    <link rel="icon" type="image/png" href="logos/logo_black.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;900&display=swap"
        rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #000000;
            color: #FFFFFF;
        }

        /* --- Splash Screen Animations --- */
        @keyframes fadeInLogo {
            0% {
                opacity: 0;
                transform: scale(0.9);
            }

            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes fadeOutSplash {
            0% {
                opacity: 1;
                transform: scale(1);
            }

            100% {
                opacity: 0;
                transform: scale(2);
            }
        }

        #splash-screen {
            animation: fadeOutSplash 0.8s cubic-bezier(0.76, 0, 0.24, 1) forwards;
            animation-delay: 2.7s;
        }

        #splash-logo {
            animation: fadeInLogo 1.2s cubic-bezier(0.76, 0, 0.24, 1) forwards;
            animation-delay: 0.7s;
        }

        /* --- Main Content Fade In --- */
        #content-wrapper {
            opacity: 0;
            animation: fadeInMain .5s ease-in forwards;
            animation-delay: .1s;
        }

        @keyframes fadeInMain {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        /* --- Page Transitions --- */
        .page {
            position: absolute;
            inset: 0;
            opacity: 0;
            transition: opacity 0.2s cubic-bezier(0.76, 0, 0.24, 1);
            pointer-events: none;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .page.active {
            opacity: 1;
            pointer-events: auto;
        }

        #content-wrapper {
            height: 100dvh;
        }

        /* --- Navigation Menu --- */
        #nav-trigger {
            transition: 0.4s ease;
            transform: rotate(45deg);
        }

        #nav-trigger:hover {
            transform: rotate(-45deg) scale(1.1);
            border-color: #ffffff;
        }

        #nav-trigger.pulse-hover {
            /* Example: Same styles as your :hover */
            transform: rotate(45deg) scale(1.1);
            border-color: #ffffff;
        }

        #inner-logo {
            transition: 0.4s ease;
        }

        #nav-trigger:hover #inner-logo {
            transform: rotate(90deg);
        }

        #inner-logo img {
            transform: rotate(-45deg);
            /* Counter-rotates the logo to be upright */
        }

        body.menu-open #nav-trigger {
            opacity: 0;
            pointer-events: none;
        }

        #nav-trigger {
            border: 2px solid #555;
            /* More visible */
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.08);
        }

        /* Add a gentle pulse on first page load */
        @keyframes gentlePulse {

            0%,
            100% {
                box-shadow: 0 0 15px rgba(255, 255, 255, 0.08);
                border-color: #555;
            }

            50% {
                box-shadow: 0 0 25px rgba(255, 255, 255, 0.15);
                border-color: #888;
            }
        }

        .first-visit #nav-trigger {
            animation: gentlePulse 2s ease-in-out 2;
            animation-delay: 5.5s;
        }

        #nav-overlay {
            transition: opacity 0.5s ease;
        }

        #nav-overlay.open {
            opacity: 1;
            pointer-events: auto;
        }

        #expanding-bg {
            width: 100px;
            /* Initial size matching trigger */
            height: 100px;
            background-color: #111111;
            transition: transform 0.8s cubic-bezier(0.76, 0, 0.24, 1);
            transform: rotate(45deg) scale(0);
            position: absolute;
        }

        #nav-overlay.open #expanding-bg {
            /* Scale factor to cover large screens */
            transform: rotate(45deg) scale(30);
        }

        #vertical-menu .menu-link {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease, transform 0.5s ease, color 0.1s ease;
            transition-delay: 0.5s, 0.5s, 0s;
            color: #6b7280;
            /* gray-500 */
        }

        #nav-overlay.open #vertical-menu .menu-link {
            opacity: 1;
            transform: translateY(0);
        }

        #vertical-menu .menu-link.active-link,
        #vertical-menu .menu-link:hover {
            color: #ffffff;
        }

        /* Staggered animation for menu items */
        #nav-overlay.open #vertical-menu .menu-link:nth-child(2) {
            transition-delay: 0.6s, 0.6s, 0s;
        }

        #nav-overlay.open #vertical-menu .menu-link:nth-child(3) {
            transition-delay: 0.7s, 0.7s, 0s;
        }

        #nav-overlay.open #vertical-menu .menu-link:nth-child(4) {
            transition-delay: 0.8s, 0.8s, 0s;
        }

        #nav-overlay.open #vertical-menu .menu-link:nth-child(5) {
            transition-delay: 0.9s, 0.9s, 0s;
        }

        #nav-overlay.open #vertical-menu .menu-link:nth-child(6) {
            transition-delay: 1.0s, 1.0s, 0s;
        }

        #nav-overlay.open #vertical-menu .menu-link:nth-child(7) {
            transition-delay: 1.1s, 1.1s, 0s;
        }

        /* Faint background logo in menu */
        #menu-background-logo {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 50vw;
            /* Adjust size as needed */
            max-width: 500px;
            height: auto;
            opacity: 0.1;
            /* Very faint */
            filter: invert(100%);
            /* Ensure it's white against dark background */
            pointer-events: none;
            z-index: 0;
        }

        #page-events {
            overflow: hidden;
        }

        /* Hide scrollbar on competition page while allowing scroll */
        #page-competition,
        #page-competition main {
            scrollbar-width: none;
            /* Firefox */
            -ms-overflow-style: none;
            /* IE/Edge */
        }

        #page-competition::-webkit-scrollbar,
        #page-competition main::-webkit-scrollbar {
            display: none;
            /* Chrome, Safari, Opera */
        }

        #past-events-list {
            scrollbar-width: thin;
            scrollbar-color: #444 #111;
            /* Firefox */
        }

        #past-events-list::-webkit-scrollbar {
            width: 8px;
        }

        #past-events-list::-webkit-scrollbar-thumb {
            background: #444;
            border-radius: 4px;
        }

        #past-events-list::-webkit-scrollbar-track {
            background: #111;
        }

        .section-card {
            background-color: #111111;
            border: 1px solid #222222;
        }

        .social-icon {
            filter: invert(100%);
            /* Makes default icons white */
            transition: transform 0.2s ease, filter 0.2s ease;
        }

        .social-icon:hover {
            transform: translateY(-3px);
            filter: invert(70%);
            /* Slightly less white on hover */
        }

        #team-grid-container {
            width: 100%;
            max-width: 800px;
            /* Adjust max-width to better suit 3 columns */
            margin: 0 auto;

            display: grid;
            gap: 2rem;

            /* --- KEY CHANGE HERE --- */
            /* For Desktops: Always display 3 columns */
            grid-template-columns: repeat(3, 1fr);
        }

        /* For Tablets: Switch to 2 columns */
        @media (max-width: 768px) {
            #team-grid-container {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* For Mobile Phones: Switch to 1 column */
        @media (max-width: 480px) {
            #team-grid-container {
                grid-template-columns: 1fr;
            }
        }

        .team-member-card {
            /* These styles ensure content inside the card is centered, which looks
            great when rows have a uniform height. */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;

            /* Keep your existing styles for the card */
            background-color: #1a1a1a;
            border: 1px solid #333;
            transition: all 0.3s ease;
            text-align: center;
            padding: 1rem;
            border-radius: 0.5rem;
        }

        .team-member-card:hover {
            border-color: #fff;
            transform: scale(1.03);
        }

        .fluid-title {
            /* This will make the font size:
            - A minimum of 1.75rem (28px).
            - A maximum of 2.25rem (36px).
            - In between, it will be 5% of the viewport width (5vw), scaling smoothly.
            */
            font-size: clamp(1.75rem, 5vw, 2.25rem);
        }

        .fluid-body {
            /* This will make the paragraph font size:
            - A minimum of 0.9rem (~14.5px).
            - A maximum of 1.125rem (18px).
            - In between, it will scale based on viewport width.
            */
            font-size: clamp(.75rem, 2.5vw, 1.125rem);
        }

        /* --- Custom Cursor Styles --- */

        /* 1. Hide the default cursor on EVERYTHING */
        * {
            cursor: none !important;
        }

        /* 2. Style the custom square */
        #custom-cursor {
            position: fixed;
            top: 0;
            left: 0;
            width: 10px;
            /* Size of the square */
            height: 10px;
            /* Size of the square */
            background-color: white;
            z-index: 9999;
            /* Ensure it's on top of everything */
            pointer-events: none;
            /* Crucial: lets clicks pass through to buttons below */
            transform: translate(-50%, -50%);
            /* Centers the square on the mouse coordinates */
            transition: transform 0.1s ease, opacity 0.15s ease;
            /* Smooths the shrink animation */
            opacity: 0;
            /* Start hidden until mouse moves */

            /* Optional: This makes the cursor invert colors when over white text,
            so you can still see it. Highly recommended for black/white sites. */
            mix-blend-mode: difference;
            border-radius: 2px;
        }

        /* 3. The "Shrink" State */
        #custom-cursor.clicking {
            transform: translate(-50%, -50%) scale(0.6);
            /* Shrink to 60% size */
        }

        /* 4. Hide custom cursor on touch devices (phones/tablets) so it doesn't get stuck */
        @media (hover: none) and (pointer: coarse) {
            #custom-cursor {
                display: none;
            }

            * {
                cursor: auto !important;
            }
        }

        /* Menu Label Styling */
        #menu-label {
            transition: opacity 0.4s ease;
            opacity: 1;
        }

        body.menu-open #menu-label {
            opacity: 0;
            pointer-events: none;
        }

        /* --- Puzzle Modal Lightbox --- */
        #puzzle-modal {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.95);
            z-index: 200;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        #puzzle-modal.open {
            opacity: 1;
            pointer-events: auto;
        }

        #puzzle-modal img {
            max-width: 90vw;
            max-height: 90vh;
            object-fit: contain;
            border-radius: 8px;
        }

        #puzzle-modal-close {
            position: absolute;
            top: 20px;
            right: 30px;
            font-size: 2.5rem;
            color: white;
            background: none;
            border: none;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.2s;
        }

        #puzzle-modal-close:hover {
            opacity: 1;
        }

        /* --- Puzzle Challenge Section --- */
        .puzzle-image-container {
            position: relative;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .puzzle-image-container:hover {
            transform: scale(1.02);
        }

        .puzzle-image-container::after {
            content: 'Click to enlarge';
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 0.75rem;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .puzzle-image-container:hover::after {
            opacity: 1;
        }

        .puzzle-answer-input {
            background: #1a1a1a;
            border: 2px solid #333;
            color: white;
            padding: 12px 16px;
            font-size: 1.1rem;
            border-radius: 8px;
            transition: border-color 0.2s;
            text-align: center;
            width: 200px;
        }

        .puzzle-answer-input:focus {
            outline: none;
            border-color: #3b82f6;
        }

        .puzzle-answer-input.error {
            border-color: #ef4444;
            animation: shake 0.4s ease;
        }

        @keyframes shake {

            0%,
            100% {
                transform: translateX(0);
            }

            25% {
                transform: translateX(-8px);
            }

            75% {
                transform: translateX(8px);
            }
        }

        .puzzle-submit-btn {
            background: linear-gradient(135deg, #3b82f6, #06b6d4);
            color: white;
            font-weight: 600;
            padding: 12px 32px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .puzzle-submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(59, 130, 246, 0.4);
        }

        .rules-link {
            color: #60a5fa;
            text-decoration: underline;
            transition: color 0.2s;
        }

        .rules-link:hover {
            color: #93c5fd;
        }

        /* Hidden sections toggle */
        .hidden-section {
            display: none;
        }

        .hidden-section.visible {
            display: block;
        }
    </style>
</head>

<body class="antialiased">
    <div id="custom-cursor"></div>

    <!-- Puzzle Image Modal -->
    <div id="puzzle-modal">
        <button id="puzzle-modal-close">&times;</button>
        <img src="puzzle.png" alt="Queens + Zip Puzzle - Full Size">
    </div>

    <!-- Splash Screen -->
    <div id="splash-screen" class="fixed inset-0 bg-black z-[100] flex items-center justify-center pointer-events-none">
        <img id="splash-logo" src="logos/logo_black.png" alt="QFC Logo"
            class="w-32 h-32 md:w-40 md:h-40 opacity-0 filter invert">
    </div>

    <!-- Navigation Trigger -->
    <button id="nav-trigger"
        class="fixed top-6 left-6 md:top-8 md:left-8 z-[60] w-12 h-12 md:w-12 md:h-12 bg-black flex items-center justify-center border-2 border-gray-800 focus:outline-none">
        <div id="inner-logo" class="w-full h-full items-center justify-center">
            <img src="logos/logo_black.png" alt="QFC Logo Small" class="w-12 h-12 filter invert">
        </div>
    </button>

    <!-- Menu Label -->
    <div id="menu-label"
        class="fixed top-[4.5rem] left-6 md:top-[5rem] md:left-8 z-[60] text-white text-sm font-medium pointer-events-none">
        <br />
        MENU
    </div>

    <!-- Navigation Overlay -->
    <div id="nav-overlay" class="fixed inset-0 z-50 flex items-center justify-center opacity-0 pointer-events-none">
        <div id="expanding-bg"></div>
        <!-- Faint Logo in Menu Background -->
        <img id="menu-background-logo" src="logos/logo_black.png" alt="QFC Logo Faint">
        <nav id="vertical-menu" class="relative z-10 flex flex-col items-center space-y-8 text-center">
            <a href="#" class="menu-link text-4xl font-bold" data-page="home">Home</a>
            <a href="#" class="menu-link text-4xl font-bold" data-page="about">About</a>
            <a href="#" class="menu-link text-4xl font-bold" data-page="team">E-Board</a>
            <!-- <a href="#" class="menu-link text-4xl font-bold" data-page="events">Events</a> -->
            <a href="#" class="menu-link text-4xl font-bold" data-page="competition">Competition</a>
            <a href="#" class="menu-link text-4xl font-bold" data-page="research">Research</a>
            <a href="#" class="menu-link text-4xl font-bold" data-page="join">Sponsors</a>
        </nav>
    </div>

    <!-- Content Wrapper -->
    <div id="content-wrapper" class="relative w-full overflow-y-auto">

        <!-- Home Page -->
        <div id="page-home" class="page active relative overflow-hidden min-h-screen">
            <canvas id="volatility-surface"
                class="absolute top-0 left-0 w-full h-full pointer-events-none z-0 opacity-60"></canvas>
            <main
                class="relative z-10 container mx-auto px-6 flex-grow flex flex-col items-center justify-center text-center pb-24">
                <h1 class="text-4xl md:text-6xl lg:text-7xl font-extrabold tracking-tighter mb-4 leading-tight">
                    <span class="text-gray-100">Rutgers Quantitative Finance Club</span>
                </h1>
                <p class="max-w-3xl mx-auto text-lg md:text-xl text-gray-400">
                    Bridging the gap between academic theory and industry practice for the next generation of Rutgers
                    quants
                </p>
            </main>
        </div>

        <!-- About Page -->
        <div id="page-about" class="page">
            <main class="container mx-auto px-6 flex-grow flex flex-col pt-[12vh] items-center justify-center pb-24">
                <div class="section-card p-8 md:p-12 rounded-lg max-w-4xl w-full">
                    <h2 class="font-bold mb-6 tracking-tight fluid-title">Club Mission</h2>
                    <div class="space-y-4 text-gray-300">
                        <p class="fluid-body text-left">Our goal is to bring quant lessons and opportunities to Rutgers
                            students. This includes workshops on core quantitative skills spanning mathematics, finance,
                            and computer science, as well as recruiting/speaker events and competitions to show off your
                            own skills.</p>
                        <p class="fluid-body text-left">Through our wide range of events, we hope to expose club members
                            to the exciting world of quant, while preparing them to break in. Sounds good? Check out our
                            contact page to get in touch!</p>
                    </div>
                </div>
            </main>
        </div>

        <!-- Team Page -->
        <div id="page-team" class="page">
            <main
                class="container mx-auto px-6 flex-grow flex flex-col items-center pt-[10vh] pb-[10vh] overflow-y-auto">
                <h2 class="text-3xl md:text-4xl font-bold mb-12 text-center tracking-tight">Executive Board 2025-2026
                </h2>
                <div id="team-grid-container" class="gap-8">

                    <a href="https://www.linkedin.com/in/krishaan-chaudhary/" target="_blank" rel="noopener noreferrer">
                        <div class="team-member-card text-center p-4 rounded-lg" rel="linkedin.com">
                            <img class="w-20 h-20 md:w-24 md:h-24 rounded-full mx-auto mb-4 bg-gray-700 border-2 border-gray-600"
                                src="https://placehold.co/100x100/1a1a1a/ffffff?text=K" alt="Board Member">
                            <h3 class="font-bold text-lg md:text-xl">Krishaan</h3>
                            <p class="text-gray-400 text-sm">President</p>
                        </div>
                    </a>
                    <a href="https://www.linkedin.com/in/artem-ivaniuk/" target="_blank" rel="noopener noreferrer">
                        <div class="team-member-card text-center p-4 rounded-lg">
                            <img class="w-20 h-20 md:w-24 md:h-24 rounded-full mx-auto mb-4 bg-gray-700 border-2 border-gray-600"
                                src="https://placehold.co/100x100/1a1a1a/ffffff?text=A" alt="Board Member">
                            <h3 class="font-bold text-lg md:text-xl">Artem</h3>
                            <p class="text-gray-400 text-sm">Vice President</p>
                        </div>
                    </a>
                    <a href="https://www.linkedin.com/in/omkar-iyer/" target="_blank" rel="noopener noreferrer">
                        <div class="team-member-card text-center p-4 rounded-lg">
                            <img class="w-20 h-20 md:w-24 md:h-24 rounded-full mx-auto mb-4 bg-gray-700 border-2 border-gray-600"
                                src="https://placehold.co/100x100/1a1a1a/ffffff?text=O" alt="Board Member">
                            <h3 class="font-bold text-lg md:text-xl">Omkar</h3>
                            <p class="text-gray-400 text-sm">Treasurer</p>
                        </div>
                    </a>
                    <a href="https://www.linkedin.com/in/derekchan2124/" target="_blank" rel="noopener noreferrer">
                        <div class="team-member-card text-center p-4 rounded-lg">
                            <img class="w-20 h-20 md:w-24 md:h-24 rounded-full mx-auto mb-4 bg-gray-700 border-2 border-gray-600"
                                src="https://placehold.co/100x100/1a1a1a/ffffff?text=D" alt="Board Member">
                            <h3 class="font-bold text-lg md:text-xl">Derek</h3>
                            <p class="text-gray-400 text-sm">Secretary</p>
                        </div>
                    </a>
                    <a href="https://www.linkedin.com/in/aryan-malik-xd/" target="_blank" rel="noopener noreferrer">
                        <div class="team-member-card text-center p-4 rounded-lg">
                            <img class="w-20 h-20 md:w-24 md:h-24 rounded-full mx-auto mb-4 bg-gray-700 border-2 border-gray-600"
                                src="https://placehold.co/100x100/1a1a1a/ffffff?text=A" alt="Board Member">
                            <h3 class="font-bold text-lg md:text-xl">Aryan</h3>
                            <p class="text-gray-400 text-sm">Math + Tech Chair</p>
                        </div>
                    </a>
                    <a href="https://www.linkedin.com/in/arnav-kondagunta/" target="_blank" rel="noopener noreferrer">
                        <div class="team-member-card text-center p-4 rounded-lg">
                            <img class="w-20 h-20 md:w-24 md:h-24 rounded-full mx-auto mb-4 bg-gray-700 border-2 border-gray-600"
                                src="https://placehold.co/100x100/1a1a1a/ffffff?text=A" alt="Board Member">
                            <h3 class="font-bold text-lg md:text-xl">Arnav</h3>
                            <p class="text-gray-400 text-sm">Finance Chair</p>
                        </div>
                    </a>
                    <a href="https://www.linkedin.com/in/pranav-tikkawar/" target="_blank" rel="noopener noreferrer">
                        <div class="team-member-card text-center p-4 rounded-lg">
                            <img class="w-20 h-20 md:w-24 md:h-24 rounded-full mx-auto mb-4 bg-gray-700 border-2 border-gray-600"
                                src="https://placehold.co/100x100/1a1a1a/ffffff?text=P" alt="Board Member">
                            <h3 class="font-bold text-lg md:text-xl">Pranav</h3>
                            <p class="text-gray-400 text-sm">RTQF Co-head</p>
                        </div>
                    </a>
                    <a href="https://www.linkedin.com/in/eileen-rashduni/" target="_blank" rel="noopener noreferrer">
                        <div class="team-member-card text-center p-4 rounded-lg">
                            <img class="w-20 h-20 md:w-24 md:h-24 rounded-full mx-auto mb-4 bg-gray-700 border-2 border-gray-600"
                                src="https://placehold.co/100x100/1a1a1a/ffffff?text=E" alt="Board Member">
                            <h3 class="font-bold text-lg md:text-xl">Eileen</h3>
                            <p class="text-gray-400 text-sm">RTQF Co-head</p>
                        </div>
                    </a>
                    <a href="https://www.linkedin.com/in/matthew-specht/" target="_blank" rel="noopener noreferrer">
                        <div class="team-member-card text-center p-4 rounded-lg">
                            <img class="w-20 h-20 md:w-24 md:h-24 rounded-full mx-auto mb-4 bg-gray-700 border-2 border-gray-600"
                                src="https://placehold.co/100x100/1a1a1a/ffffff?text=M" alt="Board Member">
                            <h3 class="font-bold text-lg md:text-xl">Matt</h3>
                            <p class="text-gray-400 text-sm">Social Media Chair</p>
                        </div>
                    </a>

                </div>
            </main>
        </div>

        <!-- Events Page -->
        <div id="page-events" class="page">
            <main class="container mx-auto px-6 flex-grow flex flex-col items-center justify-start pt-24 pb-24">

                <div class="w-full max-w-6xl mb-16">
                    <h2 class="text-3xl md:text-4xl font-bold mb-8 tracking-tight text-center">Events</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-3 gap-8">

                        <div class="section-card p-6 rounded-lg">
                            <p class="text-sm font-semibold text-gray-400 uppercase tracking-wider mb-3">Last Event
                                (12/2)</p>
                            <h3 class="font-bold text-xl mb-2">Jane Street Estimathon</h3>
                            <p class="text-gray-400">Jane Street's fun math competition revolving around guessing
                                intricate and elaborate values</p>
                        </div>

                        <div class="section-card p-6 rounded-lg border-2 border-red-500 shadow-lg shadow-red-500/10">
                            <p class="text-sm font-semibold text-red-400 uppercase tracking-wider mb-3">Next Event
                                (12/9)</p>
                            <h3 class="font-bold text-xl mb-2">RTQF Intro + Destresser</h3>
                            <p class="text-gray-400">Learn about the Road to Quant Finance program and enjoy some fun
                                games to destress</p>
                        </div>

                        <div class="section-card p-6 rounded-lg">
                            <p class="text-sm font-semibold text-gray-400 uppercase tracking-wider mb-3">Upcoming</p>
                            <h3 class="font-bold text-xl mb-2">Spring Sem Meetings</h3>
                            <p class="text-gray-400">Stay tuned for more workshops, competitions, and destressers that
                                help teach you about quant</p>
                        </div>

                    </div>
                </div>

                <div class="w-full max-w-4xl">
                    <input type="search" id="event-search-bar" placeholder="Search Events Archive..."
                        class="w-full p-4 mb-8 text-lg bg-[#111] border-2 border-[#222] rounded-lg focus:outline-none focus:border-red-500 transition-colors">

                    <div id="past-events-list" class="space-y-6 overflow-y-auto max-h-[40vh] pr-2">

                        <a href="#linktoslides" target="_blank" rel="noopener noreferrer">
                            <div class="section-card p-6 rounded-lg flex items-start space-x-8"
                                data-search-term="list of important keywords for search">
                                <p class="font-semibold text-gray-400">month year</p>
                                <div>
                                    <h3 class="font-bold text-xl">Past event title</h3>
                                    <p class="text-gray-400">Past event description</p>
                                </div>
                            </div>
                        </a>

                        <a href="#linktoslides" target="_blank" rel="noopener noreferrer">
                            <div class="section-card p-6 rounded-lg flex items-start space-x-8"
                                data-search-term="list of important keywords for search">
                                <p class="font-semibold text-gray-400">month year</p>
                                <div>
                                    <h3 class="font-bold text-xl">Past event title</h3>
                                    <p class="text-gray-400">Past event description</p>
                                </div>
                            </div>
                        </a>

                        <a href="#linktoslides" target="_blank" rel="noopener noreferrer">
                            <div class="section-card p-6 rounded-lg flex items-start space-x-8"
                                data-search-term="list of important keywords for search">
                                <p class="font-semibold text-gray-400">month year</p>
                                <div>
                                    <h3 class="font-bold text-xl">Past event title</h3>
                                    <p class="text-gray-400">Past event description</p>
                                </div>
                            </div>
                        </a>

                        <a href="#linktoslides" target="_blank" rel="noopener noreferrer">
                            <div class="section-card p-6 rounded-lg flex items-start space-x-8"
                                data-search-term="list of important keywords for search">
                                <p class="font-semibold text-gray-400">month year</p>
                                <div>
                                    <h3 class="font-bold text-xl">Past event title</h3>
                                    <p class="text-gray-400">Past event description</p>
                                </div>
                            </div>
                        </a>

                        <div class="section-card p-6 rounded-lg flex items-start space-x-8" data-search-term="">
                            <p class="font-semibold text-gray-400"></p>
                            <div>
                                <h3 class="font-bold text-xl"></h3>
                                <p class="text-gray-400"></p>
                            </div>
                        </div>

                        <div class="section-card p-6 rounded-lg flex items-start space-x-8" data-search-term="">
                            <p class="font-semibold text-gray-400"></p>
                            <div>
                                <h3 class="font-bold text-xl"></h3>
                                <p class="text-gray-400"></p>
                            </div>
                        </div>

                        <div class="section-card p-6 rounded-lg flex items-start space-x-8" data-search-term="">
                            <p class="font-semibold text-gray-400"></p>
                            <div>
                                <h3 class="font-bold text-xl"></h3>
                                <p class="text-gray-400"></p>
                            </div>
                        </div>

                        <div class="section-card p-6 rounded-lg flex items-start space-x-8" data-search-term="">
                            <p class="font-semibold text-gray-400"></p>
                            <div>
                                <h3 class="font-bold text-xl"></h3>
                                <p class="text-gray-400"></p>
                            </div>
                        </div>

                    </div>
                </div>
            </main>

            <div
                class="absolute bottom-0 left-0 right-0 h-48 bg-gradient-to-t from-black to-transparent pointer-events-none">
            </div>
        </div>

        <!-- Competition Page - Trade the Knight -->
        <div id="page-competition" class="page">
            <main class="container mx-auto px-6 flex-grow flex flex-col items-center pt-16 pb-32 overflow-y-auto">

                <!-- Hero Section -->
                <div class="text-center mb-12 max-w-4xl">
                    <p class="text-sm font-semibold text-red-500 uppercase tracking-wider mb-2">Inaugural Event</p>
                    <h1 class="text-4xl md:text-5xl lg:text-6xl font-extrabold tracking-tighter mb-4 leading-tight">
                        <span
                            class="bg-gradient-to-r from-red-400 via-red-500 to-rose-500 bg-clip-text text-transparent">Trade
                            the Knight</span>
                    </h1>
                    <p class="text-lg md:text-xl text-gray-400 max-w-2xl mx-auto">
                        The Inaugural Rutgers Algorithmic Trading Competition
                    </p>
                </div>

                <!-- Main Info Card -->
                <div class="section-card p-8 md:p-10 rounded-lg max-w-4xl w-full mb-8 border-red-500/20">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">

                        <!-- Left Column - Description -->
                        <div class="space-y-4">
                            <h2 class="text-2xl font-bold text-red-400">About the Competition</h2>
                            <p class="text-gray-300 fluid-body">
                                Trade the Knight is a premier, high-stakes algorithmic trading competition hosted by the
                                Rutgers Quantitative Finance Club. Designed to simulate the fast-paced environment of
                                modern financial markets, this day-long event challenges the brightest minds at Rutgers
                                to develop, backtest, and deploy automated trading strategies in a live, competitive
                                setting.
                            </p>
                            <p class="text-gray-300 fluid-body">
                                Teams will compete to optimize PnL and risk-adjusted returns by uploading custom bots.
                                The competition emphasizes exact trade settlement, order book dynamics, and algorithmic
                                efficiency.
                            </p>
                        </div>

                        <!-- Right Column - Details -->
                        <div class="space-y-6">
                            <h2 class="text-2xl font-bold text-red-400">Event Details</h2>
                            <div class="space-y-4">
                                <div class="flex items-start space-x-3">
                                    <div
                                        class="w-10 h-10 rounded-lg bg-red-500/20 flex items-center justify-center flex-shrink-0">
                                        <svg class="w-5 h-5 text-red-400" fill="none" stroke="currentColor"
                                            viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                        </svg>
                                    </div>
                                    <div>
                                        <p class="font-semibold text-white">Date</p>
                                        <p class="text-gray-400">April 18th, 2026</p>
                                    </div>
                                </div>
                                <div class="flex items-start space-x-3">
                                    <div
                                        class="w-10 h-10 rounded-lg bg-red-500/20 flex items-center justify-center flex-shrink-0">
                                        <svg class="w-5 h-5 text-red-400" fill="none" stroke="currentColor"
                                            viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                        </svg>
                                    </div>
                                    <div>
                                        <p class="font-semibold text-white">Location</p>
                                        <p class="text-gray-400"> Busch Student Center, COVE</p>
                                    </div>
                                </div>
                                <div class="flex items-start space-x-3">
                                    <div
                                        class="w-10 h-10 rounded-lg bg-red-500/20 flex items-center justify-center flex-shrink-0">
                                        <svg class="w-5 h-5 text-red-400" fill="none" stroke="currentColor"
                                            viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                                        </svg>
                                    </div>
                                    <div>
                                        <p class="font-semibold text-white">Duration</p>
                                        <p class="text-gray-400">8 hours of intensive coding, strategy, and execution
                                        </p>
                                    </div>
                                </div>
                                <div class="flex items-start space-x-3">
                                    <div
                                        class="w-10 h-10 rounded-lg bg-red-500/20 flex items-center justify-center flex-shrink-0">
                                        <svg class="w-5 h-5 text-red-400" fill="none" stroke="currentColor"
                                            viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
                                        </svg>
                                    </div>
                                    <div>
                                        <p class="font-semibold text-white">Capacity</p>
                                        <p class="text-gray-400">Limit to be decided</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Highlights Section -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl w-full mb-8">
                    <div class="section-card p-6 rounded-lg border-l-4 border-red-500">
                        <h3 class="font-bold text-lg mb-2 text-red-400">Custom-Built Exchange</h3>
                        <p class="text-gray-400 text-sm">
                            Unlike standard competitions, Trade the Knight runs on a proprietary, high-performance
                            exchange and brokerage platform built from scratch in Rust. The platform features
                            low-latency order matching and realistic latency simulation to mimic professional-grade
                            trading infrastructure.
                        </p>
                    </div>
                    <div class="section-card p-6 rounded-lg border-l-4 border-red-500">
                        <h3 class="font-bold text-lg mb-2 text-red-400">Our Mission</h3>
                        <p class="text-gray-400 text-sm">
                            Trade the Knight aims to bridge the gap between academic theory and industry practice,
                            providing Rutgers students with a platform to showcase their skills in stochastic modeling,
                            software engineering, and financial intuition.
                        </p>
                    </div>
                </div>

                <!-- Puzzle Challenge Section -->
                <div id="puzzle-challenge-section"
                    class="section-card p-8 rounded-lg max-w-4xl w-full mb-10 border-2 border-red-500/30 bg-gradient-to-br from-red-500/5 to-rose-500/5">
                    <div class="text-center mb-6">
                        <p class="text-sm font-semibold text-red-400 uppercase tracking-wider mb-2">Early Access
                            Challenge</p>
                        <h2 class="text-3xl font-bold mb-2">Solve the Puzzle to Register</h2>
                        <p class="text-gray-400">Complete this Queens + Zip puzzle to unlock early registration.</p>
                    </div>

                    <!-- Puzzle Image -->
                    <div class="flex justify-center mb-6">
                        <div id="puzzle-image-container"
                            class="puzzle-image-container rounded-lg overflow-hidden border border-gray-700">
                            <img src="puzzle.png" alt="Queens + Zip Puzzle" class="max-w-full h-auto max-h-[400px]">
                        </div>
                    </div>

                    <!-- Rules Links -->
                    <div class="text-center mb-8">
                        <p class="text-gray-400 text-sm mb-2">Not familiar with these puzzles? Learn the rules:</p>
                        <div class="flex justify-center gap-6">
                            <a href="https://www.linkedin.com/games/queens/" target="_blank" rel="noopener noreferrer"
                                class="rules-link text-sm">
                                LinkedIn Queens Rules â†’
                            </a>
                            <a href="https://www.linkedin.com/games/zip/" target="_blank" rel="noopener noreferrer"
                                class="rules-link text-sm">
                                LinkedIn Zip Rules â†’
                            </a>
                        </div>
                    </div>

                    <!-- Answer Input -->
                    <div class="flex flex-col items-center gap-4">
                        <label for="puzzle-answer" class="text-gray-300 font-medium">Enter your answer:</label>
                        <div class="flex items-center gap-4">
                            <input type="text" id="puzzle-answer" class="puzzle-answer-input" placeholder="Your answer"
                                autocomplete="off">
                            <button id="puzzle-submit" class="puzzle-submit-btn">Submit</button>
                        </div>
                        <p id="puzzle-error" class="text-red-400 text-sm hidden">Incorrect answer. Try again or sign up
                            for our newsletter below.</p>
                    </div>
                </div>

                <!-- Registration Form Section (Hidden until correct answer) -->
                <div id="registration-section"
                    class="hidden-section section-card p-8 rounded-lg max-w-4xl w-full mb-10 border-2 border-red-500/30 bg-gradient-to-br from-red-500/5 to-rose-500/5">
                    <div class="text-center mb-6">
                        <p class="text-sm font-semibold text-red-400 uppercase tracking-wider mb-2">ðŸŽ‰ Puzzle Solved!
                        </p>
                        <h2 class="text-3xl font-bold mb-2">Register for the Knight</h2>
                        <p class="text-gray-400">You've unlocked early access. Applications are reviewed on a rolling
                            basis.</p>
                    </div>

                    <!-- Tally Form Embed -->
                    <iframe
                        data-tally-src="https://tally.so/embed/5BZa56?alignLeft=1&hideTitle=1&transparentBackground=1&dynamicHeight=1"
                        loading="lazy" width="100%" height="500" frameborder="0" marginheight="0" marginwidth="0"
                        title="Trade the Knight Registration">
                    </iframe>
                    <script>var d = document, w = "https://tally.so/widgets/embed.js", v = function () { "undefined" != typeof Tally ? Tally.loadEmbeds() : d.querySelectorAll("iframe[data-tally-src]:not([src])").forEach((function (e) { e.src = e.dataset.tallySrc })) }; if ("undefined" != typeof Tally) v(); else if (d.querySelector('script[src="' + w + '"]') == null) { var s = d.createElement("script"); s.src = w; s.onload = v; s.onerror = v; d.body.appendChild(s); }</script>
                </div>

                <!-- Newsletter Signup Section (Shown after wrong answer) -->
                <div id="newsletter-section"
                    class="hidden-section section-card p-8 rounded-lg max-w-4xl w-full mb-10 border-2 border-red-500/30 bg-gradient-to-br from-red-500/5 to-rose-500/5">
                    <div class="text-center mb-6">
                        <p class="text-sm font-semibold text-red-400 uppercase tracking-wider mb-2">Can't solve it?
                        </p>
                        <h2 class="text-3xl font-bold mb-2">Join the Waitlist</h2>
                        <p class="text-gray-400">Sign up for our newsletter and we'll notify you on <strong
                                class="text-white">March 1st</strong> when general registration opens.</p>
                    </div>

                    <!-- Newsletter Tally Form - REPLACE WITH YOUR NEWSLETTER FORM URL -->
                    <iframe
                        data-tally-src="https://tally.so/embed/__NEWSLETTER_FORM_ID__?alignLeft=1&hideTitle=1&transparentBackground=1&dynamicHeight=1"
                        loading="lazy" width="100%" height="300" frameborder="0" marginheight="0" marginwidth="0"
                        title="Competition Newsletter Signup">
                    </iframe>
                </div>

                <!-- Sponsors Section -->
                <div class="max-w-4xl w-full text-center">
                    <p class="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-6">Proudly Supported By
                    </p>
                    <!-- Silver Sponsors -->
                    <p class="text-xs font-semibold text-gray-600 uppercase tracking-wider mb-4">Silver Sponsors</p>
                    <div class="flex flex-wrap justify-center items-center gap-12 md:gap-16 mb-8">
                        <a href="https://www.citadel.com/" target="_blank" rel="noopener noreferrer"
                            class="flex flex-col items-center hover:opacity-80 transition-opacity">
                            <div class="h-16 flex items-center justify-center">
                                <img src="logos/citadel_logo.png" alt="Citadel" class="h-12 md:h-16 object-contain"
                                    onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                                <span class="text-2xl md:text-3xl font-bold text-white tracking-tight"
                                    style="display: none;">CITADEL</span>
                            </div>
                        </a>
                        <a href="https://www.thetadata.net/" target="_blank" rel="noopener noreferrer"
                            class="flex flex-col items-center hover:opacity-80 transition-opacity">
                            <div class="h-16 flex items-center justify-center">
                                <img src="logos/thetadata_logo.png" alt="ThetaData" class="h-12 md:h-16 object-contain"
                                    onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                                <span class="text-2xl md:text-3xl font-bold text-white tracking-tight"
                                    style="display: none;">THETADATA</span>
                            </div>
                        </a>
                    </div>
                    <!-- Merch Sponsor -->
                    <p class="text-xs font-semibold text-gray-600 uppercase tracking-wider mb-4">Merch Sponsor</p>
                    <div class="flex flex-wrap justify-center items-center gap-8">
                        <a href="https://optiver.com/" target="_blank" rel="noopener noreferrer"
                            class="flex flex-col items-center hover:opacity-80 transition-opacity">
                            <div class="h-12 flex items-center justify-center">
                                <img src="logos/optiver_logo.png" alt="Optiver" class="h-8 md:h-10 object-contain"
                                    onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                                <span class="text-xl md:text-2xl font-semibold text-gray-400 tracking-tight"
                                    style="display: none;">OPTIVER</span>
                            </div>
                        </a>
                    </div>
                </div>

            </main>
        </div>

        <!-- Research Page -->
        <div id="page-research" class="page overflow-y-auto">
            <main class="container mx-auto px-6 flex-grow flex flex-col items-center pt-16 pb-32">

                <!-- Hero Section -->
                <div class="text-center mb-16 max-w-4xl">
                    <h1 class="text-4xl md:text-5xl lg:text-6xl font-extrabold tracking-tighter mb-4 leading-tight">
                        <span
                            class="bg-gradient-to-r from-red-400 via-red-500 to-rose-500 bg-clip-text text-transparent">Research
                            Teams</span>
                    </h1>
                    <p class="text-lg md:text-xl text-gray-400 max-w-2xl mx-auto">
                        Learn to translate academic papers into working code
                    </p>
                </div>

                <!-- Program Details Card -->
                <div class="section-card p-8 md:p-12 rounded-lg max-w-4xl w-full mb-12">
                    <h2 class="text-2xl md:text-3xl font-bold mb-6 tracking-tight">What Are Research Teams?</h2>
                    <div class="space-y-4 text-gray-300 text-left">
                        <p>Research Teams are small groups of <strong class="text-white">2-3 members</strong> who work
                            together to explore, understand, and implement quantitative finance papers. Each team will:
                        </p>

                        <ul class="list-disc list-inside space-y-2 ml-4">
                            <li>Find and select a quant or quant-adjacent research paper</li>
                            <li>Break down the methodology and mathematical concepts</li>
                            <li>Implement the paper's ideas in code (Python, C++, etc.)</li>
                            <li>Build a working codebase that supports or extends the paper</li>
                        </ul>

                        <div class="mt-6 p-4 bg-red-500/10 border border-red-500/20 rounded-lg">
                            <p class="text-red-400 font-semibold mb-2">The Goal</p>
                            <p class="text-gray-300">The primary focus is <strong class="text-white">learning</strong>.
                                We want to help members develop the skill of translating academic research into
                                practical, working code. It is a crucial ability for anyone pursuing a career in
                                quantitative finance.</p>
                        </div>
                    </div>
                </div>

                <!-- What You'll Gain -->
                <div class="section-card p-8 md:p-12 rounded-lg max-w-4xl w-full mb-12">
                    <h2 class="text-2xl md:text-3xl font-bold mb-6 tracking-tight">What You'll Gain</h2>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="flex items-start space-x-4">
                            <div
                                class="w-10 h-10 rounded-lg bg-red-500/20 flex items-center justify-center flex-shrink-0">
                                <svg class="w-5 h-5 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                            </div>
                            <div>
                                <h3 class="font-semibold text-white mb-1">Paper Reading Skills</h3>
                                <p class="text-gray-400 text-sm">Learn to extract key insights from academic
                                    publications</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-4">
                            <div
                                class="w-10 h-10 rounded-lg bg-red-500/20 flex items-center justify-center flex-shrink-0">
                                <svg class="w-5 h-5 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
                                </svg>
                            </div>
                            <div>
                                <h3 class="font-semibold text-white mb-1">Implementation Experience</h3>
                                <p class="text-gray-400 text-sm">Translate mathematical concepts into working code</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-4">
                            <div
                                class="w-10 h-10 rounded-lg bg-red-500/20 flex items-center justify-center flex-shrink-0">
                                <svg class="w-5 h-5 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z">
                                    </path>
                                </svg>
                            </div>
                            <div>
                                <h3 class="font-semibold text-white mb-1">Team Collaboration</h3>
                                <p class="text-gray-400 text-sm">Work closely with peers who share your interests</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-4">
                            <div
                                class="w-10 h-10 rounded-lg bg-red-500/20 flex items-center justify-center flex-shrink-0">
                                <svg class="w-5 h-5 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10">
                                    </path>
                                </svg>
                            </div>
                            <div>
                                <h3 class="font-semibold text-white mb-1">Portfolio Projects</h3>
                                <p class="text-gray-400 text-sm">Build tangible work to showcase your abilities</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Sign Up Section -->
                <div class="section-card p-8 md:p-12 rounded-lg max-w-4xl w-full">
                    <h2 class="text-2xl md:text-3xl font-bold mb-4 tracking-tight text-center">Join a Research Team</h2>
                    <p class="text-gray-400 text-center mb-4">Sign up below to be placed on a team. No prior research
                        experience required: just curiosity and willingness to learn!</p>
                    <div class="flex flex-wrap justify-center gap-3 mb-4">
                        <span
                            class="px-3 py-1 bg-gray-800 border border-gray-700 rounded-full text-sm text-gray-300"><strong
                                class="text-white">2</strong> Intro Teams</span>
                        <span
                            class="px-3 py-1 bg-gray-800 border border-gray-700 rounded-full text-sm text-gray-300"><strong
                                class="text-white">2</strong> Intermediate Teams</span>
                        <span
                            class="px-3 py-1 bg-gray-800 border border-gray-700 rounded-full text-sm text-gray-300"><strong
                                class="text-white">2</strong> Advanced Teams</span>
                    </div>
                    <p class="text-center mb-8">
                        <span
                            class="inline-block px-4 py-2 bg-red-500/10 border border-red-500/30 rounded-lg text-red-400 font-semibold text-sm">
                            Signups close Saturday, February 14th at 11:59 PM
                        </span>
                    </p>

                    <div class="w-full min-h-[400px] flex items-center justify-center">
                        <iframe
                            data-tally-src="https://tally.so/embed/LZpjqj?alignLeft=1&hideTitle=1&transparentBackground=1&dynamicHeight=1"
                            loading="lazy" width="100%" height="400" frameborder="0" marginheight="0" marginwidth="0"
                            title="Research Team Sign Up"></iframe>
                        <script>var d = document, w = "https://tally.so/widgets/embed.js", v = function () { "undefined" != typeof Tally ? Tally.loadEmbeds() : d.querySelectorAll("iframe[data-tally-src]:not([src])").forEach((function (e) { e.src = e.dataset.tallySrc })) }; if ("undefined" != typeof Tally) v(); else if (d.querySelector('script[src="' + w + '"]') == null) { var s = d.createElement("script"); s.src = w; s.onload = v; s.onerror = v; d.body.appendChild(s); }</script>
                    </div>
                </div>

            </main>
        </div>

        <!-- Join Us Page -->
        <div id="page-join" class="page overflow-y-auto">
            <main class="container mx-auto px-6 flex-grow flex flex-col items-center pt-16 pb-32">

                <!-- Hero Section -->
                <div class="text-center mb-16 max-w-4xl">
                    <h1 class="text-4xl md:text-5xl lg:text-6xl font-extrabold tracking-tighter mb-4 leading-tight">
                        <span
                            class="bg-gradient-to-r from-red-400 via-red-500 to-rose-500 bg-clip-text text-transparent">Our
                            Sponsors</span>
                    </h1>
                    <p class="text-lg md:text-xl text-gray-400 max-w-2xl mx-auto">
                        We're grateful for the support of our incredible sponsors who make our events and initiatives
                        possible.
                    </p>
                </div>

                <!-- Platinum Sponsors Section -->
                <!-- <div class="section-card p-8 rounded-lg max-w-4xl w-full mb-8">
                    <h2 class="text-2xl font-bold text-center mb-8">
                        <span class="text-red-400">Platinum</span> Sponsors
                    </h2>
                    <div class="flex flex-wrap justify-center items-center gap-12 md:gap-16">
                        <div class="flex flex-col items-center">
                            <div class="h-24 flex items-center justify-center">
                                <img src="logos/sponsor_logo.png" alt="Sponsor" class="h-20 md:h-24 object-contain"
                                    onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                                <span class="text-4xl md:text-5xl font-bold text-white tracking-tight" style="display: none;">SPONSOR</span>
                            </div>
                        </div>
                    </div>
                </div> -->

                <!-- Silver Sponsors Section -->
                <div class="section-card p-8 rounded-lg max-w-4xl w-full mb-8">
                    <h2 class="text-2xl font-bold text-center mb-8">
                        <span class="text-gray-300">Silver</span> Sponsors
                    </h2>
                    <div class="flex flex-wrap justify-center items-center gap-12 md:gap-16">
                        <a href="https://www.citadel.com/" target="_blank" rel="noopener noreferrer"
                            class="flex flex-col items-center hover:opacity-80 transition-opacity">
                            <div class="h-20 flex items-center justify-center">
                                <img src="logos/citadel_logo.png" alt="Citadel" class="h-16 md:h-20 object-contain"
                                    onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                                <span class="text-3xl md:text-4xl font-bold text-white tracking-tight"
                                    style="display: none;">CITADEL</span>
                            </div>
                        </a>
                        <a href="https://www.thetadata.net/" target="_blank" rel="noopener noreferrer"
                            class="flex flex-col items-center hover:opacity-80 transition-opacity">
                            <div class="h-20 flex items-center justify-center">
                                <img src="logos/thetadata_logo.png" alt="ThetaData" class="h-16 md:h-20 object-contain"
                                    onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                                <span class="text-3xl md:text-4xl font-bold text-white tracking-tight"
                                    style="display: none;">THETADATA</span>
                            </div>
                        </a>
                    </div>
                </div>

                <!-- Merch Sponsors Section -->
                <div class="section-card p-8 rounded-lg max-w-4xl w-full mb-12">
                    <h2 class="text-2xl font-bold text-center mb-8">
                        <span class="text-gray-400">Merch</span> Sponsor
                    </h2>
                    <div class="flex flex-wrap justify-center items-center gap-12 md:gap-16">
                        <a href="https://optiver.com/" target="_blank" rel="noopener noreferrer"
                            class="flex flex-col items-center hover:opacity-80 transition-opacity">
                            <div class="h-16 flex items-center justify-center">
                                <img src="logos/optiver_logo.png" alt="Optiver" class="h-12 md:h-14 object-contain"
                                    onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                                <span class="text-2xl md:text-3xl font-semibold text-gray-400 tracking-tight"
                                    style="display: none;">OPTIVER</span>
                            </div>
                        </a>
                    </div>
                </div>

                <!-- Become a Sponsor CTA -->
                <div
                    class="section-card p-8 md:p-12 rounded-lg max-w-3xl w-full mb-12 border border-red-500/30 bg-gradient-to-br from-red-500/5 to-rose-500/5">
                    <h2 class="text-2xl md:text-3xl font-bold mb-4 text-center">Become a Sponsor</h2>
                    <p class="text-gray-400 text-center mb-6">
                        Interested in sponsoring our club or events? We offer various partnership opportunities
                        including event sponsorships, merchandise partnerships, and more.
                    </p>
                    <div class="text-center">
                        <a href="mailto:rutgersqfc@gmail.com?subject=Sponsorship Inquiry"
                            class="inline-block px-8 py-3 bg-red-500 hover:bg-red-600 text-white font-semibold rounded-lg transition-colors">
                            Contact Us About Sponsorship
                        </a>
                    </div>
                </div>

                <!-- Contact Section -->
                <div class="section-card p-8 md:p-12 rounded-lg max-w-3xl w-full">
                    <h2 class="text-2xl md:text-3xl font-bold mb-4 text-center">Get in Touch</h2>
                    <p class="max-w-2xl mx-auto text-gray-400 mb-8 text-center">
                        Want to join the club? Join the GroupMe and Discord for primary contact and follow the Insta for
                        reminders and updates. Feel free to reach out to our email with any questions!
                    </p>

                    <div class="flex justify-center space-x-6 mb-6">
                        <a href="https://discord.gg/3D6FHTFfYp" target="_blank" rel="noopener noreferrer"
                            class="social-icon">
                            <img class="w-12 h-12" src="logos/discord_logo.png" alt="Discord">
                        </a>
                        <a href="https://groupme.com/join_group/62574721/hoPK9PwN" target="_blank"
                            rel="noopener noreferrer" class="social-icon">
                            <img class="w-12 h-12" src="logos/groupme_logo.png" alt="GroupMe">
                        </a>
                        <a href="https://www.instagram.com/rutgersqfc" target="_blank" rel="noopener noreferrer"
                            class="social-icon" aria-label="Instagram">
                            <img class="w-12 h-12" src="logos/insta_logo.png" alt="Instagram">
                        </a>
                        <a href="mailto:rutgersqfc@gmail.com" class="social-icon" aria-label="Email">
                            <img class="w-12 h-12" src="logos/mail_logo.png" alt="Email">
                        </a>
                    </div>

                    <p class="text-gray-500 text-sm text-center">
                        Email: <a href="mailto:rutgersqfc@gmail.com"
                            class="text-red-400 hover:text-red-300">rutgersqfc@gmail.com</a>
                    </p>
                </div>

            </main>
        </div>

        <!-- Footer for all pages -->
        <footer class="absolute bottom-0 left-0 right-0 py-4 bg-[#0A0A0A]">
            <div class="container mx-auto px-6 flex flex-col md:flex-row justify-between items-center">
                <p class="text-gray-500 text-sm order-2 md:order-1 mt-4 md:mt-0 text-center hidden md:block">&copy; 2026
                    Rutgers Quantitative Finance Club. All Rights Reserved.</p>
                <div class="flex space-x-4 order-1 md:order-2">
                    <a href="https://discord.gg/3D6FHTFfYp" target="_blank" class="block w-6 h-6 social-icon"
                        aria-label="Discord">
                        <img src="logos/discord_logo.png">
                    </a>
                    <a href="https://groupme.com/join_group/62574721/hoPK9PwN" target="_blank"
                        class="block w-6 h-6 social-icon" aria-label="GroupMe">
                        <img src="logos/groupme_logo.png">
                    </a>
                    <a href="https://instagram.com/rutgersqfc" target="_blank" class="block w-6 h-6 social-icon"
                        aria-label="Instagram">
                        <img src="logos/insta_logo.png">
                    </a>
                    <a href="mailto:rutgersqfc@gmail.com" target="_blank" class="block w-6 h-6 social-icon"
                        aria-label="Mail">
                        <img src="logos/mail_logo.png">
                    </a>
                    <!-- Add more social icons here as needed -->
                </div>
            </div>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Handle redirect from 404.html for GitHub Pages SPA routing
            const redirectPath = sessionStorage.getItem('redirect');
            if (redirectPath) {
                sessionStorage.removeItem('redirect');
                history.replaceState(null, '', redirectPath);
            }

            const body = document.body;
            const splashScreen = document.getElementById('splash-screen');

            // Check if the 'hasVisitedBefore' flag is set in localStorage
            if (localStorage.getItem('hasVisitedBefore')) {
                // If it exists, the user has visited before. Hide the splash screen instantly.
                splashScreen.style.display = 'none';
            } else {
                // Add class for first-visit animations
                body.classList.add('first-visit');

                // If it doesn't exist, this is the first visit.
                // 1. Let the animation play out as normal.
                splashScreen.addEventListener('animationend', (e) => {
                    if (e.target === splashScreen) {
                        splashScreen.style.display = 'none';
                    }
                });

                // 2. Set the flag in localStorage so this block won't run next time.
                localStorage.setItem('hasVisitedBefore', 'true');
            }

            const navTrigger = document.getElementById('nav-trigger');
            const navOverlay = document.getElementById('nav-overlay');
            const menuLinks = document.querySelectorAll('.menu-link');
            const pages = document.querySelectorAll('.page');

            // --- URL-Based Routing ---
            const navigateToPage = (pageId, pushState = true) => {
                const targetPage = document.getElementById(`page-${pageId}`);
                if (!targetPage) {
                    // Default to home if page doesn't exist
                    pageId = 'home';
                }

                // Update active page
                pages.forEach(page => page.classList.remove('active'));
                const activePage = document.getElementById(`page-${pageId}`);
                if (activePage) {
                    activePage.classList.add('active');
                }

                // Update active menu link
                menuLinks.forEach(l => l.classList.remove('active-link'));
                const activeLink = document.querySelector(`.menu-link[data-page="${pageId}"]`);
                if (activeLink) {
                    activeLink.classList.add('active-link');
                }

                // Update URL (without page reload)
                if (pushState) {
                    const newUrl = pageId === 'home' ? '/' : `/${pageId}`;
                    history.pushState({ page: pageId }, '', newUrl);
                }
            };

            // Get initial page from URL path
            const getPageFromPath = () => {
                const path = window.location.pathname.replace(/^\//, '').replace(/\/$/, '');
                return path || 'home';
            };

            // Set initial page based on URL
            const initialPage = getPageFromPath();
            navigateToPage(initialPage, false);

            // Handle browser back/forward buttons
            window.addEventListener('popstate', (e) => {
                const pageId = e.state?.page || getPageFromPath();
                navigateToPage(pageId, false);
            });

            // --- Navigation Toggle ---
            navTrigger.addEventListener('click', () => {
                navOverlay.classList.toggle('open');
                body.classList.toggle('menu-open');

                // Track that menu was clicked before (for first-visit animation purposes)
                if (!localStorage.getItem('menuClickedBefore')) {
                    localStorage.setItem('menuClickedBefore', 'true');
                }
            });

            // --- Page Switching ---
            menuLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetPageId = link.dataset.page;
                    const currentPage = document.querySelector('.page.active');
                    const targetPage = document.getElementById(`page-${targetPageId}`);

                    // Do nothing if clicking the active page link while menu is open
                    if (currentPage === targetPage && navOverlay.classList.contains('open')) {
                        navOverlay.classList.remove('open');
                        body.classList.remove('menu-open');
                        return;
                    }

                    // Close the menu
                    navOverlay.classList.remove('open');
                    body.classList.remove('menu-open');

                    // Navigate to the page (this also updates URL and active states)
                    navigateToPage(targetPageId);
                });
            });

            const pulseInterval = 2 * 60 * 1000; // 2 minutes in milliseconds
            let pulseTimer;
            let initialDelayTimer; // Variable to hold the initial timer

            // This function will be called after the initial 10-second delay
            const startInitialPulse = () => {
                pulseEffect(); // Run the first pulse
                setTimeout(() => {

                    // 3. Fire the second pulse
                    pulseEffect();

                    // 4. Wait for the second pulse to finish, then start the regular timer loop
                    setTimeout(() => {
                        resetTimer();
                    }, 1000);

                }, 1000);
            };

            // This function adds the class, then removes it after a short delay
            const pulseEffect = () => {
                navTrigger.classList.add('pulse-hover');
                console.log("DOING PULSE")
                setTimeout(() => {
                    navTrigger.classList.remove('pulse-hover');
                    console.log("PULSE DONE")
                }, 500); // The effect will last for 0.8 seconds
            };

            // This function resets the 2-minute timer
            const resetTimer = () => {
                clearTimeout(initialDelayTimer);
                clearInterval(pulseTimer);
                // Remove the pulse class in case it was active
                navTrigger.classList.remove('pulse-hover');
                // Start a new 2-minute timer
                pulseTimer = setInterval(pulseEffect, pulseInterval);
            };

            // --- Event Listeners to Detect User Interaction ---
            // Any of these actions will reset the timer.
            ['mouseover', 'mouseout', 'click', 'focus', 'blur'].forEach(event => {
                navTrigger.addEventListener(event, resetTimer);
            });

            initialDelayTimer = setTimeout(startInitialPulse, 3000); // 10000ms = 10 seconds

            // Inside your DOMContentLoaded listener...
            const searchBar = document.getElementById('event-search-bar');
            const eventList = document.getElementById('past-events-list');
            const events = eventList.querySelectorAll('.section-card');

            searchBar.addEventListener('input', (e) => {
                const query = e.target.value.toLowerCase();

                events.forEach(eventCard => {
                    const searchTerm = eventCard.dataset.searchTerm.toLowerCase();

                    // If the event's search term includes the query, show it. Otherwise, hide it.
                    if (searchTerm.includes(query)) {
                        eventCard.style.display = 'flex'; // Use 'flex' since your cards use it
                    } else {
                        eventCard.style.display = 'none';
                    }
                });
            });

            // --- Custom Cursor Logic ---
            const cursor = document.getElementById('custom-cursor');

            // 1. Move the cursor
            document.addEventListener('mousemove', (e) => {
                // Update position to mouse coordinates
                cursor.style.left = e.clientX + 'px';
                cursor.style.top = e.clientY + 'px';
                // Show cursor when mouse moves (starts hidden)
                cursor.style.opacity = '1';
            });

            // 2. Add shrink class on mouse down
            document.addEventListener('mousedown', () => {
                cursor.classList.add('clicking');
            });

            // 3. Remove shrink class on mouse up
            document.addEventListener('mouseup', () => {
                cursor.classList.remove('clicking');
            });

            // 4. Hide cursor when hovering over iframes
            document.querySelectorAll('iframe').forEach(iframe => {
                iframe.addEventListener('mouseenter', () => {
                    cursor.style.opacity = '0';
                });
                iframe.addEventListener('mouseleave', () => {
                    cursor.style.opacity = '1';
                });
            });

            // --- Puzzle Challenge Logic ---
            const puzzleModal = document.getElementById('puzzle-modal');
            const puzzleModalClose = document.getElementById('puzzle-modal-close');
            const puzzleImageContainer = document.getElementById('puzzle-image-container');
            const puzzleAnswer = document.getElementById('puzzle-answer');
            const puzzleSubmit = document.getElementById('puzzle-submit');
            const puzzleError = document.getElementById('puzzle-error');
            const puzzleSection = document.getElementById('puzzle-challenge-section');
            const registrationSection = document.getElementById('registration-section');
            const newsletterSection = document.getElementById('newsletter-section');

            /*
             * â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
             * â•‘  So you didn't want to solve the puzzle? :)                           â•‘
             * â•‘                                                                       â•‘
             * â•‘  I respect the hustle. Reading source code is a quant skill too.      â•‘
             * â•‘                                                                       â•‘
             * â•‘  The answer below is base64 encoded. If you can decode it, you've     â•‘
             * â•‘  earned your spot. Welcome to Trade the Knight!                       â•‘
             * â•‘                                                                       â•‘
             * â•‘  Pro tip: Run atob('...') in your browser console.                    â•‘
             * â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
             */
            let CORRECT_ANSWER;
            CORRECT_ANSWER = atob('__PUZZLE_ANSWER_BASE64__'); // Injected by GitHub Actions

            // Check if user already solved the puzzle (persisted in localStorage)
            const checkPuzzleSolved = () => {
                return localStorage.getItem('puzzleSolved') === 'true';
            };

            // Verify puzzle answer
            const MAX_ATTEMPTS = 3;

            const getAttempts = () => {
                return parseInt(localStorage.getItem('puzzleAttempts') || '0');
            };

            const updateAttempts = () => {
                const attempts = getAttempts() + 1;
                localStorage.setItem('puzzleAttempts', attempts);
                return attempts;
            };

            const lockPuzzle = () => {
                puzzleAnswer.disabled = true;
                puzzleSubmit.disabled = true;
                puzzleSubmit.textContent = 'Locked';
                puzzleAnswer.placeholder = 'Please sign up for newsletter below';
                puzzleAnswer.value = '';
                puzzleError.textContent = 'Maximum attempts reached. Please sign up for the newsletter to continue.';
                puzzleError.classList.remove('hidden');
                newsletterSection.classList.add('visible');
            };

            const initPuzzleState = () => {
                // Check if solved first
                if (checkPuzzleSolved()) {
                    puzzleSection.style.display = 'none';
                    registrationSection.classList.add('visible');
                    newsletterSection.classList.remove('visible');
                    return;
                }

                // Check if locked due to too many attempts
                if (getAttempts() >= MAX_ATTEMPTS) {
                    lockPuzzle();
                }
            };

            initPuzzleState();

            // Open modal when clicking puzzle image
            if (puzzleImageContainer) {
                puzzleImageContainer.addEventListener('click', () => {
                    puzzleModal.classList.add('open');
                });
            }

            // Close modal
            if (puzzleModalClose) {
                puzzleModalClose.addEventListener('click', () => {
                    puzzleModal.classList.remove('open');
                });
            }

            // Close modal when clicking outside image
            if (puzzleModal) {
                puzzleModal.addEventListener('click', (e) => {
                    if (e.target === puzzleModal) {
                        puzzleModal.classList.remove('open');
                    }
                });
            }

            // Close modal with Escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && puzzleModal.classList.contains('open')) {
                    puzzleModal.classList.remove('open');
                }
            });

            const verifyAnswer = () => {
                // Double check lock state securely
                if (getAttempts() >= MAX_ATTEMPTS) {
                    lockPuzzle();
                    return;
                }

                const userAnswer = puzzleAnswer.value.trim();

                if (userAnswer === CORRECT_ANSWER) {
                    // Correct answer!
                    localStorage.setItem('puzzleSolved', 'true');
                    // Reset attempts on success
                    localStorage.removeItem('puzzleAttempts');

                    puzzleSection.style.display = 'none';
                    registrationSection.classList.add('visible');
                    newsletterSection.classList.remove('visible');
                    puzzleError.classList.add('hidden');

                    // Reload Tally embeds for the newly visible form
                    if (typeof Tally !== 'undefined') {
                        Tally.loadEmbeds();
                    }
                } else {
                    // Wrong answer
                    const currentAttempts = updateAttempts();

                    if (currentAttempts >= MAX_ATTEMPTS) {
                        lockPuzzle();
                    } else {
                        // Standard wrong answer behavior
                        puzzleAnswer.classList.add('error');
                        puzzleError.textContent = `Incorrect answer. ${MAX_ATTEMPTS - currentAttempts} attempts remaining.`;
                        puzzleError.classList.remove('hidden');
                        newsletterSection.classList.add('visible');

                        // Remove error styling after animation
                        setTimeout(() => {
                            puzzleAnswer.classList.remove('error');
                        }, 400);
                    }
                }
            };

            if (puzzleSubmit) {
                puzzleSubmit.addEventListener('click', verifyAnswer);
            }

            // Also verify on Enter key
            if (puzzleAnswer) {
                puzzleAnswer.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter') {
                        verifyAnswer();
                    }
                });
            }
        });

        // --- Particle Volatility Surface Visual ---
        // Placed outside DOMContentLoaded to ensure it runs but waits for element
        (function () {
            const canvas = document.getElementById('volatility-surface');
            if (!canvas) return;

            const ctx = canvas.getContext('2d');
            let width, height;
            let particles = [];
            let time = 0;
            const mouse = { x: -1000, y: -1000 };

            const config = {
                // --- GRID SETTINGS ---
                rows: 50,
                cols: 100,
                spacing: 30,

                // --- COLORS ---
                colorWhite: 'rgba(255, 255, 255, ',
                colorRed: 'rgba(204, 0, 51, ',

                // --- PHYSICS ---
                waveSpeed: 0.01,
                // Wave height (was 20)
                waveAmplitude: 20,
                // Smile curve strength (was 75)
                smileStrength: 300,

                // --- INTERACTION ---
                mouseRadius: 500,
                mouseForce: 50,

                // --- VIEWPORT ---
                // Vertical offset: Negative moves UP, Positive moves DOWN
                verticalOffset: 200,
                // Camera height: More negative = Higher camera (looking down)
                cameraHeight: 200,

                // --- CAMERA SETTINGS ---
                cameraZ: 800,        // Zoom Out (Distance)
                fieldOfView: 1000,   // Zoom In (Lens)

                depth: 800
            };

            class Particle {
                constructor(row, col) {
                    this.row = row;
                    this.col = col;

                    // 3D Coordinates
                    this.x = (col - config.cols / 2) * config.spacing;
                    this.z = (row - config.rows / 2) * config.spacing;
                    this.y = 0;
                    this.baseY = 0;

                    this.isRed = Math.random() < 0.35;
                    this.baseSize = Math.random() * 2 + 1.5;
                    this.phase = Math.random() * Math.PI * 2;
                }

                update(time) {
                    const distanceFromCenterX = Math.abs(this.x) / (config.cols * config.spacing / 2);
                    const smile = Math.pow(distanceFromCenterX, 2) * config.smileStrength;

                    const wave = Math.sin(this.x * 0.01 + time) * Math.cos(this.z * 0.01 + time) * config.waveAmplitude;

                    this.y = this.baseY - smile + wave;
                }

                draw(time) {
                    this.update(time);

                    const fov = config.fieldOfView;
                    const cameraY = config.cameraHeight;
                    const cameraZ = config.cameraZ;

                    const px = this.x;
                    const py = this.y + cameraY;
                    const pz = this.z + cameraZ;

                    if (pz <= 0) return;

                    const scale = fov / pz;
                    const screenX = px * scale + width / 2;
                    const screenY = py * scale + height / 2 + config.verticalOffset;

                    // --- Organic Mouse Interaction ---
                    const dx = mouse.x - screenX;
                    const dy = mouse.y - screenY;
                    const distSq = dx * dx + dy * dy;

                    // Per-particle noise on the radius to break up the circular edge
                    const noise = 0.6 + 0.8 * Math.sin(this.phase * 5.1 + this.x * 0.02 + this.z * 0.03);
                    const sigma = config.mouseRadius * noise;

                    // Gaussian bell curve for smooth, wide falloff
                    const factor = Math.exp(-distSq / (2 * sigma * sigma));

                    // Fixed upward pull (constant amount, not dependent on mouse height)
                    const pull = -config.mouseForce * factor;

                    const finalScreenY = screenY + pull;

                    // --- Optimized Drawing (rect, no shadows) ---
                    const size = Math.max(0.5, this.baseSize * scale);

                    let alpha = 1;
                    alpha *= Math.max(0, 1 - (pz / 2500));
                    alpha *= Math.min(1, Math.max(0, (pz - 100) / 500));

                    const colorPrefix = this.isRed ? config.colorRed : config.colorWhite;
                    ctx.fillStyle = colorPrefix + alpha + ')';
                    ctx.fillRect(screenX - size / 2, finalScreenY - size / 2, size, size);
                }
            }

            const resize = () => {
                width = window.innerWidth;
                height = window.innerHeight;
                canvas.width = width;
                canvas.height = height;

                initParticles();
            };

            const initParticles = () => {
                particles = [];
                // Adjust grid size based on screen
                let cols = config.cols;
                let rows = config.rows;
                let spacing = config.spacing;

                if (width < 768) {
                    cols = 20;
                    rows = 20;
                    spacing = 30;
                }

                // Recalculate centering offsets
                const offsetX = (cols * spacing) / 2;
                const offsetZ = (rows * spacing) / 2;

                for (let r = 0; r < rows; r++) {
                    for (let c = 0; c < cols; c++) {
                        // Pass r,c to constructor but we might overwrite x,z if mobile logic differs from default config
                        // Actually let's just use the constructor default if not mobile, or update config?
                        // Easiest is to manually set properties here to match local logic
                        const p = new Particle(r, c);

                        // Override position based on local cols/rows/spacing
                        p.x = (c * spacing) - offsetX;
                        p.z = (r * spacing) - offsetZ;

                        particles.push(p);
                    }
                }
            };

            let animateId;
            let tick = 0;
            const animate = () => {
                ctx.clearRect(0, 0, width, height);
                tick += config.waveSpeed;

                particles.forEach(p => p.draw(tick));

                animateId = requestAnimationFrame(animate);
            };

            window.addEventListener('resize', resize);

            window.addEventListener('mousemove', (e) => {
                const rect = canvas.getBoundingClientRect();
                mouse.x = e.clientX - rect.left;
                mouse.y = e.clientY - rect.top;
            });

            window.addEventListener('mouseleave', () => {
                mouse.x = -5000;
                mouse.y = -5000;
            });

            // Start
            resize(); // calls initParticles
            animate();

        })();
    </script>
</body>

</html>